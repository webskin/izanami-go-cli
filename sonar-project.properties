# Sonar project configuration for izanami-go-cli

# Source and test file definitions
sonar.sources=.
sonar.exclusions=**/*_test.go

sonar.tests=.
sonar.test.inclusions=**/*_test.go

# GitHub Actions: Trusted prefixes for dependency pinning
# These prefixes are considered trusted and don't require full commit SHA hashes
sonar.github.workflows.trustedPrefixes=./,actions/,github/,goreleaser/

# Exclude test files from duplication checks
# Test files often have duplicated strings and code patterns for assertions and test data
sonar.issue.ignore.multicriteria=e1,e2
sonar.issue.ignore.multicriteria.e1.ruleKey=go:S1192
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*_test.go
sonar.issue.ignore.multicriteria.e2.ruleKey=common-go:DuplicatedBlocks
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*_test.go

# Exclude test files from Copy/Paste Detection (CPD)
# Use multiple patterns to ensure coverage
sonar.cpd.go.exclusions=**/*_test.go
sonar.cpd.exclusions=**/*_test.go,**/internal/**/*_test.go

# Exclude test files from duplication metrics on new code
sonar.coverage.exclusions=**/*_test.go
sonar.test.exclusions=**/*_test.go
