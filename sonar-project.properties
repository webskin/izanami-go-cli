# Sonar project configuration for izanami-go-cli

# GitHub Actions: Trusted prefixes for dependency pinning
# These prefixes are considered trusted and don't require full commit SHA hashes
sonar.github.workflows.trustedPrefixes=./,actions/,github/,goreleaser/

# Let Sonar analyze all Go files
sonar.sources=.
sonar.exclusions=**/*_test.go,**/internal/**/*_test.go

# Mark *_test.go as tests
sonar.tests=.
sonar.test.inclusions=
sonar.test.exclusions=**/*_test.go,**/internal/**/*_test.go

# Exclude test files from duplication checks
# Test files often have duplicated strings and code patterns for assertions and test data
sonar.issue.ignore.multicriteria=e1
sonar.issue.ignore.multicriteria.e1.ruleKey=go:S1192
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*_test.go

# Exclude tests from duplication & coverage metrics
sonar.cpd.exclusions=**/*_test.go,**/internal/**/*_test.go
sonar.coverage.exclusions=**/*_test.go


# Ignore all rules in test files (redundant if excluded, but safe)
sonar.issue.ignore.allfile=**/*_test.go